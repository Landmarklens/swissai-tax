{"meta": {"format": 3, "version": "7.9.2", "timestamp": "2025-10-09T08:01:13.619017", "branch_coverage": false, "show_contexts": false}, "files": {"services/canton_tax_calculators/__init__.py": {"executed_lines": [1, 8, 9, 10, 11, 12, 13, 16, 46, 60, 62, 63, 65, 68], "summary": {"covered_lines": 13, "num_statements": 13, "percent_covered": 100.0, "percent_covered_display": "100", "missing_lines": 0, "excluded_lines": 0}, "missing_lines": [], "excluded_lines": [], "functions": {"get_canton_calculator": {"executed_lines": [60, 62, 63, 65], "summary": {"covered_lines": 4, "num_statements": 4, "percent_covered": 100.0, "percent_covered_display": "100", "missing_lines": 0, "excluded_lines": 0}, "missing_lines": [], "excluded_lines": []}, "": {"executed_lines": [1, 8, 9, 10, 11, 12, 13, 16, 46, 68], "summary": {"covered_lines": 9, "num_statements": 9, "percent_covered": 100.0, "percent_covered_display": "100", "missing_lines": 0, "excluded_lines": 0}, "missing_lines": [], "excluded_lines": []}}, "classes": {"": {"executed_lines": [1, 8, 9, 10, 11, 12, 13, 16, 46, 60, 62, 63, 65, 68], "summary": {"covered_lines": 13, "num_statements": 13, "percent_covered": 100.0, "percent_covered_display": "100", "missing_lines": 0, "excluded_lines": 0}, "missing_lines": [], "excluded_lines": []}}}, "services/canton_tax_calculators/base.py": {"executed_lines": [1, 8, 9, 10, 11, 13, 16, 17, 19, 26, 27, 28, 29, 31, 33, 34, 37, 38, 40, 42, 45, 46, 52, 53, 54, 55, 57, 58, 67, 86, 87, 90, 93, 96, 99, 101, 116, 118, 119, 120, 123, 124, 126, 129, 130, 132, 134, 153, 155, 166, 168, 169, 170, 172, 174, 191, 192, 194], "summary": {"covered_lines": 55, "num_statements": 56, "percent_covered": 98.21428571428571, "percent_covered_display": "98", "missing_lines": 1, "excluded_lines": 0}, "missing_lines": [65], "excluded_lines": [], "functions": {"TaxBracket.__init__": {"executed_lines": [26, 27, 28, 29], "summary": {"covered_lines": 4, "num_statements": 4, "percent_covered": 100.0, "percent_covered_display": "100", "missing_lines": 0, "excluded_lines": 0}, "missing_lines": [], "excluded_lines": []}, "TaxBracket.calculate_tax": {"executed_lines": [33, 34, 37, 38, 40, 42], "summary": {"covered_lines": 6, "num_statements": 6, "percent_covered": 100.0, "percent_covered_display": "100", "missing_lines": 0, "excluded_lines": 0}, "missing_lines": [], "excluded_lines": []}, "CantonTaxCalculator.__init__": {"executed_lines": [53, 54, 55], "summary": {"covered_lines": 3, "num_statements": 3, "percent_covered": 100.0, "percent_covered_display": "100", "missing_lines": 0, "excluded_lines": 0}, "missing_lines": [], "excluded_lines": []}, "CantonTaxCalculator._load_tax_brackets": {"executed_lines": [], "summary": {"covered_lines": 0, "num_statements": 1, "percent_covered": 0.0, "percent_covered_display": "0", "missing_lines": 1, "excluded_lines": 0}, "missing_lines": [65], "excluded_lines": []}, "CantonTaxCalculator.calculate": {"executed_lines": [86, 87, 90, 93, 96, 99], "summary": {"covered_lines": 6, "num_statements": 6, "percent_covered": 100.0, "percent_covered_display": "100", "missing_lines": 0, "excluded_lines": 0}, "missing_lines": [], "excluded_lines": []}, "CantonTaxCalculator._apply_progressive_rates": {"executed_lines": [116, 118, 119, 120, 123, 124, 126, 129, 130, 132], "summary": {"covered_lines": 10, "num_statements": 10, "percent_covered": 100.0, "percent_covered_display": "100", "missing_lines": 0, "excluded_lines": 0}, "missing_lines": [], "excluded_lines": []}, "CantonTaxCalculator._apply_family_adjustments": {"executed_lines": [153], "summary": {"covered_lines": 1, "num_statements": 1, "percent_covered": 100.0, "percent_covered_display": "100", "missing_lines": 0, "excluded_lines": 0}, "missing_lines": [], "excluded_lines": []}, "CantonTaxCalculator.get_marginal_rate": {"executed_lines": [166, 168, 169, 170, 172], "summary": {"covered_lines": 5, "num_statements": 5, "percent_covered": 100.0, "percent_covered_display": "100", "missing_lines": 0, "excluded_lines": 0}, "missing_lines": [], "excluded_lines": []}, "CantonTaxCalculator.calculate_breakdown": {"executed_lines": [191, 192, 194], "summary": {"covered_lines": 3, "num_statements": 3, "percent_covered": 100.0, "percent_covered_display": "100", "missing_lines": 0, "excluded_lines": 0}, "missing_lines": [], "excluded_lines": []}, "": {"executed_lines": [1, 8, 9, 10, 11, 13, 16, 17, 19, 31, 45, 46, 52, 57, 58, 67, 101, 134, 155, 174], "summary": {"covered_lines": 17, "num_statements": 17, "percent_covered": 100.0, "percent_covered_display": "100", "missing_lines": 0, "excluded_lines": 0}, "missing_lines": [], "excluded_lines": []}}, "classes": {"TaxBracket": {"executed_lines": [26, 27, 28, 29, 33, 34, 37, 38, 40, 42], "summary": {"covered_lines": 10, "num_statements": 10, "percent_covered": 100.0, "percent_covered_display": "100", "missing_lines": 0, "excluded_lines": 0}, "missing_lines": [], "excluded_lines": []}, "CantonTaxCalculator": {"executed_lines": [53, 54, 55, 86, 87, 90, 93, 96, 99, 116, 118, 119, 120, 123, 124, 126, 129, 130, 132, 153, 166, 168, 169, 170, 172, 191, 192, 194], "summary": {"covered_lines": 28, "num_statements": 29, "percent_covered": 96.55172413793103, "percent_covered_display": "97", "missing_lines": 1, "excluded_lines": 0}, "missing_lines": [65], "excluded_lines": []}, "": {"executed_lines": [1, 8, 9, 10, 11, 13, 16, 17, 19, 31, 45, 46, 52, 57, 58, 67, 101, 134, 155, 174], "summary": {"covered_lines": 17, "num_statements": 17, "percent_covered": 100.0, "percent_covered_display": "100", "missing_lines": 0, "excluded_lines": 0}, "missing_lines": [], "excluded_lines": []}}}, "services/canton_tax_calculators/basel_stadt.py": {"executed_lines": [1, 8, 9, 11, 14, 15, 17, 19, 29, 38], "summary": {"covered_lines": 8, "num_statements": 8, "percent_covered": 100.0, "percent_covered_display": "100", "missing_lines": 0, "excluded_lines": 0}, "missing_lines": [], "excluded_lines": [], "functions": {"BaselStadtTaxCalculator._load_tax_brackets": {"executed_lines": [19, 29, 38], "summary": {"covered_lines": 3, "num_statements": 3, "percent_covered": 100.0, "percent_covered_display": "100", "missing_lines": 0, "excluded_lines": 0}, "missing_lines": [], "excluded_lines": []}, "": {"executed_lines": [1, 8, 9, 11, 14, 15, 17], "summary": {"covered_lines": 5, "num_statements": 5, "percent_covered": 100.0, "percent_covered_display": "100", "missing_lines": 0, "excluded_lines": 0}, "missing_lines": [], "excluded_lines": []}}, "classes": {"BaselStadtTaxCalculator": {"executed_lines": [19, 29, 38], "summary": {"covered_lines": 3, "num_statements": 3, "percent_covered": 100.0, "percent_covered_display": "100", "missing_lines": 0, "excluded_lines": 0}, "missing_lines": [], "excluded_lines": []}, "": {"executed_lines": [1, 8, 9, 11, 14, 15, 17], "summary": {"covered_lines": 5, "num_statements": 5, "percent_covered": 100.0, "percent_covered_display": "100", "missing_lines": 0, "excluded_lines": 0}, "missing_lines": [], "excluded_lines": []}}}, "services/canton_tax_calculators/bern.py": {"executed_lines": [1, 8, 9, 11, 14, 15, 17, 19, 29, 38], "summary": {"covered_lines": 8, "num_statements": 8, "percent_covered": 100.0, "percent_covered_display": "100", "missing_lines": 0, "excluded_lines": 0}, "missing_lines": [], "excluded_lines": [], "functions": {"BernTaxCalculator._load_tax_brackets": {"executed_lines": [19, 29, 38], "summary": {"covered_lines": 3, "num_statements": 3, "percent_covered": 100.0, "percent_covered_display": "100", "missing_lines": 0, "excluded_lines": 0}, "missing_lines": [], "excluded_lines": []}, "": {"executed_lines": [1, 8, 9, 11, 14, 15, 17], "summary": {"covered_lines": 5, "num_statements": 5, "percent_covered": 100.0, "percent_covered_display": "100", "missing_lines": 0, "excluded_lines": 0}, "missing_lines": [], "excluded_lines": []}}, "classes": {"BernTaxCalculator": {"executed_lines": [19, 29, 38], "summary": {"covered_lines": 3, "num_statements": 3, "percent_covered": 100.0, "percent_covered_display": "100", "missing_lines": 0, "excluded_lines": 0}, "missing_lines": [], "excluded_lines": []}, "": {"executed_lines": [1, 8, 9, 11, 14, 15, 17], "summary": {"covered_lines": 5, "num_statements": 5, "percent_covered": 100.0, "percent_covered_display": "100", "missing_lines": 0, "excluded_lines": 0}, "missing_lines": [], "excluded_lines": []}}}, "services/canton_tax_calculators/geneva.py": {"executed_lines": [1, 10, 11, 13, 16, 17, 19, 26, 36, 45], "summary": {"covered_lines": 8, "num_statements": 8, "percent_covered": 100.0, "percent_covered_display": "100", "missing_lines": 0, "excluded_lines": 0}, "missing_lines": [], "excluded_lines": [], "functions": {"GenevaTaxCalculator._load_tax_brackets": {"executed_lines": [26, 36, 45], "summary": {"covered_lines": 3, "num_statements": 3, "percent_covered": 100.0, "percent_covered_display": "100", "missing_lines": 0, "excluded_lines": 0}, "missing_lines": [], "excluded_lines": []}, "": {"executed_lines": [1, 10, 11, 13, 16, 17, 19], "summary": {"covered_lines": 5, "num_statements": 5, "percent_covered": 100.0, "percent_covered_display": "100", "missing_lines": 0, "excluded_lines": 0}, "missing_lines": [], "excluded_lines": []}}, "classes": {"GenevaTaxCalculator": {"executed_lines": [26, 36, 45], "summary": {"covered_lines": 3, "num_statements": 3, "percent_covered": 100.0, "percent_covered_display": "100", "missing_lines": 0, "excluded_lines": 0}, "missing_lines": [], "excluded_lines": []}, "": {"executed_lines": [1, 10, 11, 13, 16, 17, 19], "summary": {"covered_lines": 5, "num_statements": 5, "percent_covered": 100.0, "percent_covered_display": "100", "missing_lines": 0, "excluded_lines": 0}, "missing_lines": [], "excluded_lines": []}}}, "services/canton_tax_calculators/vaud.py": {"executed_lines": [1, 8, 9, 11, 14, 15, 17, 19, 30, 40], "summary": {"covered_lines": 8, "num_statements": 8, "percent_covered": 100.0, "percent_covered_display": "100", "missing_lines": 0, "excluded_lines": 0}, "missing_lines": [], "excluded_lines": [], "functions": {"VaudTaxCalculator._load_tax_brackets": {"executed_lines": [19, 30, 40], "summary": {"covered_lines": 3, "num_statements": 3, "percent_covered": 100.0, "percent_covered_display": "100", "missing_lines": 0, "excluded_lines": 0}, "missing_lines": [], "excluded_lines": []}, "": {"executed_lines": [1, 8, 9, 11, 14, 15, 17], "summary": {"covered_lines": 5, "num_statements": 5, "percent_covered": 100.0, "percent_covered_display": "100", "missing_lines": 0, "excluded_lines": 0}, "missing_lines": [], "excluded_lines": []}}, "classes": {"VaudTaxCalculator": {"executed_lines": [19, 30, 40], "summary": {"covered_lines": 3, "num_statements": 3, "percent_covered": 100.0, "percent_covered_display": "100", "missing_lines": 0, "excluded_lines": 0}, "missing_lines": [], "excluded_lines": []}, "": {"executed_lines": [1, 8, 9, 11, 14, 15, 17], "summary": {"covered_lines": 5, "num_statements": 5, "percent_covered": 100.0, "percent_covered_display": "100", "missing_lines": 0, "excluded_lines": 0}, "missing_lines": [], "excluded_lines": []}}}, "services/canton_tax_calculators/zurich.py": {"executed_lines": [1, 10, 11, 13, 16, 17, 19, 26, 90, 147, 152, 163, 164, 165, 166, 168], "summary": {"covered_lines": 14, "num_statements": 14, "percent_covered": 100.0, "percent_covered_display": "100", "missing_lines": 0, "excluded_lines": 0}, "missing_lines": [], "excluded_lines": [], "functions": {"ZurichTaxCalculator._load_tax_brackets": {"executed_lines": [26, 90, 147], "summary": {"covered_lines": 3, "num_statements": 3, "percent_covered": 100.0, "percent_covered_display": "100", "missing_lines": 0, "excluded_lines": 0}, "missing_lines": [], "excluded_lines": []}, "ZurichTaxCalculator._apply_family_adjustments": {"executed_lines": [163, 164, 165, 166, 168], "summary": {"covered_lines": 5, "num_statements": 5, "percent_covered": 100.0, "percent_covered_display": "100", "missing_lines": 0, "excluded_lines": 0}, "missing_lines": [], "excluded_lines": []}, "": {"executed_lines": [1, 10, 11, 13, 16, 17, 19, 152], "summary": {"covered_lines": 6, "num_statements": 6, "percent_covered": 100.0, "percent_covered_display": "100", "missing_lines": 0, "excluded_lines": 0}, "missing_lines": [], "excluded_lines": []}}, "classes": {"ZurichTaxCalculator": {"executed_lines": [26, 90, 147, 163, 164, 165, 166, 168], "summary": {"covered_lines": 8, "num_statements": 8, "percent_covered": 100.0, "percent_covered_display": "100", "missing_lines": 0, "excluded_lines": 0}, "missing_lines": [], "excluded_lines": []}, "": {"executed_lines": [1, 10, 11, 13, 16, 17, 19, 152], "summary": {"covered_lines": 6, "num_statements": 6, "percent_covered": 100.0, "percent_covered_display": "100", "missing_lines": 0, "excluded_lines": 0}, "missing_lines": [], "excluded_lines": []}}}, "services/data_export_service.py": {"executed_lines": [1, 5, 6, 7, 8, 9, 10, 11, 13, 15, 24, 25, 26, 28, 31, 32, 34, 36, 42, 43, 44, 46, 68, 69, 72, 73, 75, 83, 84, 85, 88, 92, 99, 101, 112, 113, 114, 117, 122, 127, 132, 141, 172, 174, 176, 195, 197, 210, 212, 226, 228, 241, 251, 253, 264, 267, 268, 269, 270, 271, 272, 273, 276, 277, 278, 279, 280, 281, 282, 285, 286, 287, 292, 293, 294, 297, 298, 299, 304, 305, 306, 309, 310, 311, 316, 317, 318, 320, 322, 340, 344, 345, 347, 348, 350, 352, 353, 356, 359, 360, 361, 362, 364, 367, 370, 377, 378, 381, 386, 387, 390, 391, 392, 393, 394, 396, 397, 400, 404, 411, 412, 413, 415, 416, 417, 419, 430, 431, 432, 433, 435, 437, 439, 440, 441, 444, 449, 451, 466, 470, 471, 475, 477, 485, 487, 492, 494, 496, 497, 498, 500, 503, 504, 506, 508, 509, 511], "summary": {"covered_lines": 155, "num_statements": 155, "percent_covered": 100.0, "percent_covered_display": "100", "missing_lines": 0, "excluded_lines": 0}, "missing_lines": [], "excluded_lines": [], "functions": {"DataExportService.__init__": {"executed_lines": [42, 43, 44], "summary": {"covered_lines": 3, "num_statements": 3, "percent_covered": 100.0, "percent_covered_display": "100", "missing_lines": 0, "excluded_lines": 0}, "missing_lines": [], "excluded_lines": []}, "DataExportService.request_export": {"executed_lines": [68, 69, 72, 73, 75, 83, 84, 85, 88, 92, 99], "summary": {"covered_lines": 11, "num_statements": 11, "percent_covered": 100.0, "percent_covered_display": "100", "missing_lines": 0, "excluded_lines": 0}, "missing_lines": [], "excluded_lines": []}, "DataExportService.collect_user_data": {"executed_lines": [112, 113, 114, 117, 122, 127, 132, 141, 172], "summary": {"covered_lines": 9, "num_statements": 9, "percent_covered": 100.0, "percent_covered_display": "100", "missing_lines": 0, "excluded_lines": 0}, "missing_lines": [], "excluded_lines": []}, "DataExportService._serialize_settings": {"executed_lines": [176], "summary": {"covered_lines": 1, "num_statements": 1, "percent_covered": 100.0, "percent_covered_display": "100", "missing_lines": 0, "excluded_lines": 0}, "missing_lines": [], "excluded_lines": []}, "DataExportService._serialize_filing": {"executed_lines": [197], "summary": {"covered_lines": 1, "num_statements": 1, "percent_covered": 100.0, "percent_covered_display": "100", "missing_lines": 0, "excluded_lines": 0}, "missing_lines": [], "excluded_lines": []}, "DataExportService._serialize_subscription": {"executed_lines": [212], "summary": {"covered_lines": 1, "num_statements": 1, "percent_covered": 100.0, "percent_covered_display": "100", "missing_lines": 0, "excluded_lines": 0}, "missing_lines": [], "excluded_lines": []}, "DataExportService._serialize_payment": {"executed_lines": [228], "summary": {"covered_lines": 1, "num_statements": 1, "percent_covered": 100.0, "percent_covered_display": "100", "missing_lines": 0, "excluded_lines": 0}, "missing_lines": [], "excluded_lines": []}, "DataExportService.generate_json_export": {"executed_lines": [251], "summary": {"covered_lines": 1, "num_statements": 1, "percent_covered": 100.0, "percent_covered_display": "100", "missing_lines": 0, "excluded_lines": 0}, "missing_lines": [], "excluded_lines": []}, "DataExportService.generate_csv_export": {"executed_lines": [264, 267, 268, 269, 270, 271, 272, 273, 276, 277, 278, 279, 280, 281, 282, 285, 286, 287, 292, 293, 294, 297, 298, 299, 304, 305, 306, 309, 310, 311, 316, 317, 318, 320], "summary": {"covered_lines": 34, "num_statements": 34, "percent_covered": 100.0, "percent_covered_display": "100", "missing_lines": 0, "excluded_lines": 0}, "missing_lines": [], "excluded_lines": []}, "DataExportService.generate_export": {"executed_lines": [340, 344, 345, 347, 348, 350, 352, 353, 356, 359, 360, 361, 362, 364, 367, 370, 377, 378, 381, 386, 387, 390, 391, 392, 393, 394, 396, 397, 400, 404, 411, 412, 413, 415, 416, 417, 419, 430, 431, 432, 433, 435, 437, 439, 440, 441, 444, 449], "summary": {"covered_lines": 48, "num_statements": 48, "percent_covered": 100.0, "percent_covered_display": "100", "missing_lines": 0, "excluded_lines": 0}, "missing_lines": [], "excluded_lines": []}, "DataExportService.get_user_exports": {"executed_lines": [466, 470, 471, 475], "summary": {"covered_lines": 4, "num_statements": 4, "percent_covered": 100.0, "percent_covered_display": "100", "missing_lines": 0, "excluded_lines": 0}, "missing_lines": [], "excluded_lines": []}, "DataExportService.cleanup_expired_exports": {"executed_lines": [485, 487, 492, 494, 496, 497, 498, 500, 503, 504, 506, 508, 509, 511], "summary": {"covered_lines": 14, "num_statements": 14, "percent_covered": 100.0, "percent_covered_display": "100", "missing_lines": 0, "excluded_lines": 0}, "missing_lines": [], "excluded_lines": []}, "": {"executed_lines": [1, 5, 6, 7, 8, 9, 10, 11, 13, 15, 24, 25, 26, 28, 31, 32, 34, 36, 46, 101, 174, 195, 210, 226, 241, 253, 322, 451, 477], "summary": {"covered_lines": 27, "num_statements": 27, "percent_covered": 100.0, "percent_covered_display": "100", "missing_lines": 0, "excluded_lines": 0}, "missing_lines": [], "excluded_lines": []}}, "classes": {"DataExportService": {"executed_lines": [42, 43, 44, 68, 69, 72, 73, 75, 83, 84, 85, 88, 92, 99, 112, 113, 114, 117, 122, 127, 132, 141, 172, 176, 197, 212, 228, 251, 264, 267, 268, 269, 270, 271, 272, 273, 276, 277, 278, 279, 280, 281, 282, 285, 286, 287, 292, 293, 294, 297, 298, 299, 304, 305, 306, 309, 310, 311, 316, 317, 318, 320, 340, 344, 345, 347, 348, 350, 352, 353, 356, 359, 360, 361, 362, 364, 367, 370, 377, 378, 381, 386, 387, 390, 391, 392, 393, 394, 396, 397, 400, 404, 411, 412, 413, 415, 416, 417, 419, 430, 431, 432, 433, 435, 437, 439, 440, 441, 444, 449, 466, 470, 471, 475, 485, 487, 492, 494, 496, 497, 498, 500, 503, 504, 506, 508, 509, 511], "summary": {"covered_lines": 128, "num_statements": 128, "percent_covered": 100.0, "percent_covered_display": "100", "missing_lines": 0, "excluded_lines": 0}, "missing_lines": [], "excluded_lines": []}, "": {"executed_lines": [1, 5, 6, 7, 8, 9, 10, 11, 13, 15, 24, 25, 26, 28, 31, 32, 34, 36, 46, 101, 174, 195, 210, 226, 241, 253, 322, 451, 477], "summary": {"covered_lines": 27, "num_statements": 27, "percent_covered": 100.0, "percent_covered_display": "100", "missing_lines": 0, "excluded_lines": 0}, "missing_lines": [], "excluded_lines": []}}}}, "totals": {"covered_lines": 269, "num_statements": 270, "percent_covered": 99.62962962962963, "percent_covered_display": "99", "missing_lines": 1, "excluded_lines": 0}}