import React from 'react';
import { Typography, Box, Container } from '@mui/material';
import PropTypes from 'prop-types';
import { useTranslation } from 'react-i18next';
import VideoCarousel from '../videoSection/VideoCarousel';
import {
  GridItem,
  Circle,
  Badge,
  Title,
  Description,
  WrapperArrow,
  Arrow,
  CardsWrapper
} from './WorkSection.styles';

const TaxWorkSection = ({ title }) => {
  const { t } = useTranslation();

  const taxSteps = [
    {
      icon: (
        <svg xmlns="http://www.w3.org/2000/svg" width="53" height="52" viewBox="0 0 53 52" fill="none">
          <path opacity="0.2" d="M42.5833 8.125V42.25H31.2083V8.125H42.5833Z" fill="#003DA5" />
          <path d="M45.8333 40.625H44.2083V8.125C44.2083 7.69402 44.037 7.2807 43.7323 6.97595C43.4276 6.67121 43.0142 6.5 42.5833 6.5H31.2083C30.7773 6.5 30.3639 6.67121 30.0592 6.97595C29.7545 7.2807 29.5833 7.69402 29.5833 8.125V16.25H19.8333C19.4023 16.25 18.989 16.4212 18.6842 16.726C18.3795 17.0307 18.2083 17.444 18.2083 17.875V26H10.0833C9.65228 26 9.23895 26.1712 8.9342 26.476C8.62946 26.7807 8.45825 27.194 8.45825 27.625V40.625H6.83325C6.40228 40.625 5.98895 40.7962 5.6842 41.101C5.37946 41.4057 5.20825 41.819 5.20825 42.25C5.20825 42.681 5.37946 43.0943 5.6842 43.399C5.98895 43.7038 6.40228 43.875 6.83325 43.875H45.8333C46.2642 43.875 46.6776 43.7038 46.9823 43.399C47.287 43.0943 47.4583 42.681 47.4583 42.25C47.4583 41.819 47.287 41.4057 46.9823 41.101C46.6776 40.7962 46.2642 40.625 45.8333 40.625ZM32.8333 9.75H40.9583V40.625H32.8333V9.75ZM21.4583 19.5H29.5833V40.625H21.4583V19.5ZM11.7083 29.25H18.2083V40.625H11.7083V29.25Z" fill="#003DA5" />
        </svg>
      ),
      number: '1',
      title: t('Select Your Canton'),
      color: '#E6F0FF',
      description: t('Choose from all 26 Swiss cantons. Our AI adapts to your local tax laws and deduction limits automatically.')
    },
    {
      icon: (
        <svg xmlns="http://www.w3.org/2000/svg" width="62" height="16" viewBox="0 0 62 16" fill="none">
          <path d="M61.0404 8.70711C61.4309 8.31658 61.4309 7.68342 61.0404 7.29289L54.6764 0.928932C54.2859 0.538408 53.6527 0.538408 53.2622 0.928932C52.8717 1.31946 52.8717 1.95262 53.2622 2.34315L58.919 8L53.2622 13.6569C52.8717 14.0474 52.8717 14.6805 53.2622 15.0711C53.6527 15.4616 54.2859 15.4616 54.6764 15.0711L61.0404 8.70711ZM0.333252 9H60.3333V7H0.333252V9Z" fill="#003DA5" />
        </svg>
      )
    },
    {
      icon: (
        <svg xmlns="http://www.w3.org/2000/svg" width="53" height="52" viewBox="0 0 53 52" fill="none">
          <path opacity="0.2" d="M47.4583 26C47.4583 28.5411 43.8386 30.4586 42.8514 32.8433C41.9008 35.1427 43.1398 39.0691 41.2711 40.9378C39.4023 42.8066 35.4759 41.5675 33.1765 42.5181C30.802 43.5053 28.8723 47.125 26.3333 47.125C23.7942 47.125 21.8645 43.5053 19.49 42.5181C17.1906 41.5675 13.2642 42.8066 11.3954 40.9378C9.52669 39.0691 10.7658 35.1427 9.81513 32.8433C8.82794 30.4688 5.20825 28.5391 5.20825 26C5.20825 23.4609 8.82794 21.5312 9.81513 19.1567C10.7658 16.8594 9.52669 12.9309 11.3954 11.0622C13.2642 9.19344 17.1926 10.4325 19.49 9.48187C21.8747 8.49469 23.7942 4.875 26.3333 4.875C28.8723 4.875 30.802 8.49469 33.1765 9.48187C35.4759 10.4325 39.4023 9.19344 41.2711 11.0622C43.1398 12.9309 41.9008 16.8573 42.8514 19.1567C43.8386 21.5414 47.4583 23.4609 47.4583 26Z" fill="#00A651" />
          <path d="M35.6079 19.9753C35.759 20.1262 35.8789 20.3055 35.9607 20.5027C36.0424 20.7 36.0845 20.9114 36.0845 21.125C36.0845 21.3386 36.0424 21.55 35.9607 21.7473C35.8789 21.9445 35.759 22.1238 35.6079 22.2747L24.2329 33.6497C24.082 33.8008 23.9028 33.9206 23.7055 34.0024C23.5083 34.0842 23.2968 34.1263 23.0833 34.1263C22.8697 34.1263 22.6582 34.0842 22.461 34.0024C22.2637 33.9206 22.0845 33.8008 21.9336 33.6497L17.0586 28.7747C16.7536 28.4698 16.5823 28.0562 16.5823 27.625C16.5823 27.1938 16.7536 26.7802 17.0586 26.4753C17.3635 26.1704 17.777 25.9991 18.2083 25.9991C18.6395 25.9991 19.053 26.1704 19.3579 26.4753L23.0833 30.2027L33.3086 19.9753C33.4595 19.8242 33.6387 19.7044 33.836 19.6226C34.0332 19.5408 34.2447 19.4987 34.4583 19.4987C34.6718 19.4987 34.8833 19.5408 35.0805 19.6226C35.2778 19.7044 35.457 19.8242 35.6079 19.9753Z" fill="#00A651" />
        </svg>
      ),
      number: '2',
      title: t('Answer Simple Questions'),
      color: '#E8F5E9',
      description: t('Our AI guides you through a conversational interview. No tax jargon, just plain language in German, French, Italian or English.')
    },
    {
      icon: (
        <svg xmlns="http://www.w3.org/2000/svg" width="62" height="16" viewBox="0 0 62 16" fill="none">
          <path d="M61.3736 8.70711C61.7641 8.31658 61.7641 7.68342 61.3736 7.29289L55.0097 0.928932C54.6191 0.538408 53.986 0.538408 53.5954 0.928932C53.2049 1.31946 53.2049 1.95262 53.5954 2.34315L59.2523 8L53.5954 13.6569C53.2049 14.0474 53.2049 14.6805 53.5954 15.0711C53.986 15.4616 54.6191 15.4616 55.0097 15.0711L61.3736 8.70711ZM0.666504 9H60.6665V7H0.666504V9Z" fill="#00A651" />
        </svg>
      )
    },
    {
      icon: (
        <svg xmlns="http://www.w3.org/2000/svg" width="52" height="52" viewBox="0 0 52 52" fill="none">
          <path opacity="0.2" d="M35.75 16.25V35.75H16.25V16.25H35.75Z" fill="#003DA5" />
          <path d="M45.5 8.125V16.25C45.5 16.681 45.3288 17.0943 45.024 17.399C44.7193 17.7038 44.306 17.875 43.875 17.875C43.444 17.875 43.0307 17.7038 42.726 17.399C42.4212 17.0943 42.25 16.681 42.25 16.25V9.75H35.75C35.319 9.75 34.9057 9.57879 34.601 9.27405C34.2962 8.9693 34.125 8.55598 34.125 8.125C34.125 7.69402 34.2962 7.2807 34.601 6.97595C34.9057 6.67121 35.319 6.5 35.75 6.5H43.875C44.306 6.5 44.7193 6.67121 45.024 6.97595C45.3288 7.2807 45.5 7.69402 45.5 8.125ZM16.25 42.25H9.75V35.75C9.75 35.319 9.57879 34.9057 9.27405 34.601C8.9693 34.2962 8.55598 34.125 8.125 34.125C7.69402 34.125 7.2807 34.2962 6.97595 34.601C6.67121 34.9057 6.5 35.319 6.5 35.75V43.875C6.5 44.306 6.67121 44.7193 6.97595 45.024C7.2807 45.3288 7.69402 45.5 8.125 45.5H16.25C16.681 45.5 17.0943 45.3288 17.399 45.024C17.7038 44.7193 17.875 44.306 17.875 43.875C17.875 43.444 17.7038 43.0307 17.399 42.726C17.0943 42.4212 16.681 42.25 16.25 42.25ZM43.875 34.125C43.444 34.125 43.0307 34.2962 42.726 34.601C42.4212 34.9057 42.25 35.319 42.25 35.75V42.25H35.75C35.319 42.25 34.9057 42.4212 34.601 42.726C34.2962 43.0307 34.125 43.444 34.125 43.875C34.125 44.306 34.2962 44.7193 34.601 45.024C34.9057 45.3288 35.319 45.5 35.75 45.5H43.875C44.306 45.5 44.7193 45.3288 45.024 45.024C45.3288 44.7193 45.5 44.306 45.5 43.875V35.75C45.5 35.319 45.3288 34.9057 45.024 34.601C44.7193 34.2962 44.306 34.125 43.875 34.125ZM8.125 17.875C8.55598 17.875 8.9693 17.7038 9.27405 17.399C9.57879 17.0943 9.75 16.681 9.75 16.25V9.75H16.25C16.681 9.75 17.0943 9.57879 17.399 9.27405C17.7038 8.9693 17.875 8.55598 17.875 8.125C17.875 7.69402 17.7038 7.2807 17.399 6.97595C17.0943 6.67121 16.681 6.5 16.25 6.5H8.125C7.69402 6.5 7.2807 6.67121 6.97595 6.97595C6.67121 7.2807 6.5 7.69402 6.5 8.125V16.25C6.5 16.681 6.67121 17.0943 6.97595 17.399C7.2807 17.7038 7.69402 17.875 8.125 17.875ZM16.25 14.625H35.75C36.181 14.625 36.5943 14.7962 36.899 15.101C37.2038 15.4057 37.375 15.819 37.375 16.25V35.75C37.375 36.181 37.2038 36.5943 36.899 36.899C36.5943 37.2038 36.181 37.375 35.75 37.375H16.25C15.819 37.375 15.4057 37.2038 15.101 36.899C14.7962 36.5943 14.625 36.181 14.625 35.75V16.25C14.625 15.819 14.7962 15.4057 15.101 15.101C15.4057 14.7962 15.819 14.625 16.25 14.625ZM17.875 34.125H34.125V17.875H17.875V34.125Z" fill="#003DA5" />
        </svg>
      ),
      number: '3',
      title: t('Upload Documents'),
      color: '#E6F0FF',
      description: t('Snap photos of your salary certificates, receipts, and statements. Our OCR technology extracts data automatically.')
    },
    {
      icon: (
        <svg xmlns="http://www.w3.org/2000/svg" width="62" height="16" viewBox="0 0 62 16" fill="none">
          <path d="M61.3736 8.70711C61.7641 8.31658 61.7641 7.68342 61.3736 7.29289L55.0097 0.928932C54.6191 0.538408 53.986 0.538408 53.5954 0.928932C53.2049 1.31946 53.2049 1.95262 53.5954 2.34315L59.2523 8L53.5954 13.6569C53.2049 14.0474 53.2049 14.6805 53.5954 15.0711C53.986 15.4616 54.6191 15.4616 55.0097 15.0711L61.3736 8.70711ZM0.666504 9H60.6665V7H0.666504V9Z" fill="#003DA5" />
        </svg>
      )
    },
    {
      icon: (
        <svg xmlns="http://www.w3.org/2000/svg" width="53" height="52" viewBox="0 0 53 52" fill="none">
          <path opacity="0.2" d="M39.6665 17.875V40.625C39.6665 41.056 39.4953 41.4693 39.1906 41.774C38.8858 42.0788 38.4725 42.25 38.0415 42.25H8.7915C8.36053 42.25 7.9472 42.0788 7.64246 41.774C7.33771 41.4693 7.1665 41.056 7.1665 40.625V17.875C7.1665 17.444 7.33771 17.0307 7.64246 16.726C7.9472 16.4212 8.36053 16.25 8.7915 16.25H38.0415C38.4725 16.25 38.8858 16.4212 39.1906 16.726C39.4953 17.0307 39.6665 17.444 39.6665 17.875Z" fill="#00A651" />
          <path d="M38.0415 14.625H8.7915C7.92955 14.625 7.1029 14.9674 6.49341 15.5769C5.88391 16.1864 5.5415 17.013 5.5415 17.875V40.625C5.5415 41.487 5.88391 42.3136 6.49341 42.9231C7.1029 43.5326 7.92955 43.875 8.7915 43.875H38.0415C38.9035 43.875 39.7301 43.5326 40.3396 42.9231C40.9491 42.3136 41.2915 41.487 41.2915 40.625V17.875C41.2915 17.013 40.9491 16.1864 40.3396 15.5769C39.7301 14.9674 38.9035 14.625 38.0415 14.625ZM38.0415 40.625H8.7915V17.875H38.0415V40.625ZM47.7915 11.375V35.75C47.7915 36.181 47.6203 36.5943 47.3156 36.899C47.0108 37.2038 46.5975 37.375 46.1665 37.375C45.7355 37.375 45.3222 37.2038 45.0175 36.899C44.7127 36.5943 44.5415 36.181 44.5415 35.75V11.375H13.6665C13.2355 11.375 12.8222 11.2038 12.5175 10.899C12.2127 10.5943 12.0415 10.181 12.0415 9.75C12.0415 9.31902 12.2127 8.9057 12.5175 8.60095C12.8222 8.29621 13.2355 8.125 13.6665 8.125H44.5415C45.4035 8.125 46.2301 8.46741 46.8396 9.0769C47.4491 9.6864 47.7915 10.513 47.7915 11.375Z" fill="#00A651" />
        </svg>
      ),
      number: '4',
      title: t('Review & Optimize'),
      color: '#E8F5E9',
      description: t('AI finds all deductions you qualify for and calculates your refund. Review your complete tax return before submission.')
    },
    {
      icon: (
        <svg xmlns="http://www.w3.org/2000/svg" width="62" height="16" viewBox="0 0 62 16" fill="none">
          <path d="M61.3736 8.70711C61.7641 8.31658 61.7641 7.68342 61.3736 7.29289L55.0097 0.928932C54.6191 0.538408 53.986 0.538408 53.5954 0.928932C53.2049 1.31946 53.2049 1.95262 53.5954 2.34315L59.2523 8L53.5954 13.6569C53.2049 14.0474 53.2049 14.6805 53.5954 15.0711C53.986 15.4616 54.6191 15.4616 55.0097 15.0711L61.3736 8.70711ZM0.666504 9H60.6665V7H0.666504V9Z" fill="#00A651" />
        </svg>
      )
    },
    {
      icon: (
        <svg xmlns="http://www.w3.org/2000/svg" width="52" height="52" viewBox="0 0 52 52" fill="none">
          <path opacity="0.2" d="M43.875 9.75V17.875H8.125V9.75C8.125 9.31902 8.29621 8.9057 8.60095 8.60095C8.9057 8.29621 9.31902 8.125 9.75 8.125H42.25C42.681 8.125 43.0943 8.29621 43.399 8.60095C43.7038 8.9057 43.875 9.31902 43.875 9.75Z" fill="#003DA5" />
          <path d="M42.25 6.5H37.375V4.875C37.375 4.44402 37.2038 4.0307 36.899 3.72595C36.5943 3.4212 36.181 3.25 35.75 3.25C35.319 3.25 34.9057 3.4212 34.601 3.72595C34.2962 4.0307 34.125 4.44402 34.125 4.875V6.5H17.875V4.875C17.875 4.44402 17.7038 4.0307 17.399 3.72595C17.0943 3.4212 16.681 3.25 16.25 3.25C15.819 3.25 15.4057 3.4212 15.101 3.72595C14.7962 4.0307 14.625 4.44402 14.625 4.875V6.5H9.75C8.88805 6.5 8.0614 6.84241 7.4519 7.4519C6.84241 8.0614 6.5 8.88805 6.5 9.75V42.25C6.5 43.112 6.84241 43.9386 7.4519 44.5481C8.0614 45.1576 8.88805 45.5 9.75 45.5H42.25C43.112 45.5 43.9386 45.1576 44.5481 44.5481C45.1576 43.9386 45.5 43.112 45.5 42.25V9.75C45.5 8.88805 45.1576 8.0614 44.5481 7.4519C43.9386 6.84241 43.112 6.5 42.25 6.5ZM14.625 9.75V11.375C14.625 11.806 14.7962 12.2193 15.101 12.524C15.4057 12.8288 15.819 13 16.25 13C16.681 13 17.0943 12.8288 17.399 12.524C17.7038 12.2193 17.875 11.806 17.875 11.375V9.75H34.125V11.375C34.125 11.806 34.2962 12.2193 34.601 12.524C34.9057 12.8288 35.319 13 35.75 13C36.181 13 36.5943 12.8288 36.899 12.524C37.2038 12.2193 37.375 11.806 37.375 11.375V9.75H42.25V16.25H9.75V9.75H14.625ZM42.25 42.25H9.75V19.5H42.25V42.25ZM34.4622 24.8503C34.6133 25.0012 34.7331 25.1805 34.8149 25.3777C34.8967 25.575 34.9388 25.7864 34.9388 26C34.9388 26.2136 34.8967 26.425 34.8149 26.6223C34.7331 26.8195 34.6133 26.9988 34.4622 27.1497L24.7122 36.8997C24.5613 37.0508 24.382 37.1706 24.1848 37.2524C23.9875 37.3342 23.7761 37.3763 23.5625 37.3763C23.3489 37.3763 23.1375 37.3342 22.9402 37.2524C22.743 37.1706 22.5637 37.0508 22.4128 36.8997L17.5378 32.0247C17.2329 31.7198 17.0616 31.3062 17.0616 30.875C17.0616 30.4438 17.2329 30.0302 17.5378 29.7253C17.8427 29.4204 18.2563 29.2491 18.6875 29.2491C19.1187 29.2491 19.5323 29.4204 19.8372 29.7253L23.5625 33.4527L32.1628 24.8503C32.3137 24.6992 32.493 24.5794 32.6902 24.4976C32.8875 24.4158 33.0989 24.3737 33.3125 24.3737C33.5261 24.3737 33.7375 24.4158 33.9348 24.4976C34.132 24.5794 34.3113 24.6992 34.4622 24.8503Z" fill="#003DA5" />
        </svg>
      ),
      number: '5',
      title: t('Submit Digitally'),
      color: '#E6F0FF',
      description: t('File directly to your canton tax office with one click. Get confirmation instantly and track your status online.')
    }
  ];

  return (
    <>
      <Box id="how-it-works" sx={{ flexGrow: 1, pt: 10, pb: 6, textAlign: 'center' }}>
        <Container maxWidth="xl">
          <Typography variant="h5" component="h2" gutterBottom sx={{ fontWeight: '700', fontSize: '35px' }}>
            {title}
          </Typography>
          <Typography variant="subtitle1" component="div" gutterBottom sx={{ fontSize: '18px', color: '#6B7280', mb: 5 }}>
            {t('Complete your Swiss tax return in 5 simple steps')}
          </Typography>

          <CardsWrapper>
            {taxSteps.map((step, index) =>
              step.title ? (
                <GridItem item xs={12} sm={6} md={4} lg={2} key={index}>
                  <Box sx={{ textAlign: 'center' }}>
                    <Box sx={{ position: 'relative', mb: 3 }}>
                      <Circle>
                        {step.icon}
                        <Badge>{step.number}</Badge>
                      </Circle>
                    </Box>
                    <Box>
                      <Title variant="h6" component="h4">{step.title}</Title>
                      <Description component="div">{step.description}</Description>
                    </Box>
                  </Box>
                </GridItem>
              ) : (
                <WrapperArrow key={index}>
                  <Arrow>{step.icon}</Arrow>
                </WrapperArrow>
              )
            )}
          </CardsWrapper>
        </Container>
      </Box>

      {/* Video Carousel Section */}
      <VideoCarousel />
    </>
  );
};

TaxWorkSection.propTypes = {
  title: PropTypes.string.isRequired
};

export default TaxWorkSection;